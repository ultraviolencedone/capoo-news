import{_ as L,r as g,w as R,c as v,a as l,E as q,u as F,o as w,b as s,d as I,e as N,f as $,g as c,h as z,i,j as E,l as x,k as K,m as u,n as P,p as T,q as j,s as M,t as f,v as A,x as D}from"./index-B2D0tL9m.js";/* empty css               *//* empty css                    *//* empty css                     *//* empty css                *//* empty css                  *//* empty css                 */const G={class:"flex"},H={__name:"LoginPage",setup(J){const n=g(!1),a=g({username:"xydalei",password:"123456",repassword:"123456"}),y={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须为5-10位的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是6-15的非空字符",trigger:"blur"}],repassword:[{validator:(t,e,d)=>{e!==a.value.password?d(new Error("和输入的密码不一致！")):d()},trigger:"blur"}]},m=g(),C=async()=>{await m.value.validate();const t=await M(a.value);t.data.code===0?f.success(t.data.message):f.error(t.data.message),n.value=!1},S=F(),V=async()=>{await m.value.validate();const t=await A(a.value);t.data.code===0?f.success(t.data.message):f.error(t.data.message),D().setToken(t.data.token),S.push("/")};return R(n,()=>{a.value={username:"",password:"",repassword:""}}),(t,e)=>{const d=I,o=$,p=z,k=K,_=P,b=N,U=j,B=q;return w(),v(B,{class:"login-page"},{default:l(()=>[s(d,{span:12,class:"bg"}),s(d,{span:6,offset:3,class:"form"},{default:l(()=>[n.value?(w(),v(b,{key:0,ref_key:"form",ref:m,size:"large",rules:y,autocomplete:"off",model:a.value},{default:l(()=>[s(o,null,{default:l(()=>e[7]||(e[7]=[c("h1",null,"注册",-1)])),_:1}),s(o,{prop:"username"},{default:l(()=>[s(p,{modelValue:a.value.username,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value.username=r),"prefix-icon":i(E),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),s(o,{prop:"password"},{default:l(()=>[s(p,{modelValue:a.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.password=r),"prefix-icon":i(x),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(o,{prop:"repassword"},{default:l(()=>[s(p,{modelValue:a.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.repassword=r),"prefix-icon":i(x),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(o,null,{default:l(()=>[s(k,{onClick:C,class:"button",type:"primary","auto-insert-space":""},{default:l(()=>e[8]||(e[8]=[u(" 注册 ")])),_:1})]),_:1}),s(o,{class:"flex"},{default:l(()=>[s(_,{type:"info",underline:!1,onClick:e[3]||(e[3]=r=>n.value=!1)},{default:l(()=>e[9]||(e[9]=[u(" ← 返回 ")])),_:1})]),_:1})]),_:1},8,["model"])):(w(),v(b,{key:1,model:a.value,rules:y,ref_key:"form",ref:m,size:"large",autocomplete:"off"},{default:l(()=>[s(o,null,{default:l(()=>e[10]||(e[10]=[c("h1",null,"登录",-1)])),_:1}),s(o,{prop:"username"},{default:l(()=>[s(p,{modelValue:a.value.username,"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.username=r),"prefix-icon":i(E),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),s(o,{prop:"password"},{default:l(()=>[s(p,{modelValue:a.value.password,"onUpdate:modelValue":e[5]||(e[5]=r=>a.value.password=r),name:"password","prefix-icon":i(x),type:"password",onKeyup:T(V,["enter"]),placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),s(o,{class:"flex"},{default:l(()=>[c("div",G,[s(U,null,{default:l(()=>e[11]||(e[11]=[u("记住我")])),_:1}),s(_,{type:"primary",underline:!1},{default:l(()=>e[12]||(e[12]=[u("忘记密码？")])),_:1})])]),_:1}),s(o,null,{default:l(()=>[s(k,{onClick:V,class:"button",type:"primary","auto-insert-space":""},{default:l(()=>e[13]||(e[13]=[u("登录")])),_:1})]),_:1}),s(o,{class:"flex"},{default:l(()=>[s(_,{type:"info",underline:!1,onClick:e[6]||(e[6]=r=>n.value=!0)},{default:l(()=>e[14]||(e[14]=[u(" 注册 → ")])),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},ee=L(H,[["__scopeId","data-v-52c7e2f3"]]);export{ee as default};
