import{x as I,r as u,c as i,a,o as d,b as e,E as S,d as B,e as C,f as R,h as q,ac as F,k as N,m as z,ai as D,ap as L,t as M}from"./index-B2D0tL9m.js";import{_ as P}from"./PageContainer-CSauLOt7.js";/* empty css               *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                   */const O={__name:"UserProfile",setup(T){const{user:{username:p,nickname:_,email:c,id:f},getUser:g}=I(),l=u({username:p,nickname:_,email:c,id:f}),v={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称必须是2-10位的非空字符串",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]},r=u(!1),m=u(),b=async()=>{await m.value.validate()&&(r.value=!0,await L(l.value),await g(),r.value=!1,M.success("修改成功"))};return(V,t)=>{const s=q,n=R,k=N,w=C,E=B,U=S,x=P,y=D;return d(),i(x,{title:"基本资料"},{default:a(()=>[e(U,null,{default:a(()=>[e(E,{span:12},{default:a(()=>[e(w,{model:l.value,rules:v,ref_key:"formRef",ref:m,"label-width":"100px",size:"large"},{default:a(()=>[e(n,{label:"登录名称"},{default:a(()=>[e(s,{modelValue:l.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(n,{label:"用户昵称",prop:"nickname"},{default:a(()=>[e(s,{modelValue:l.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(n,{label:"用户邮箱",prop:"email"},{default:a(()=>[e(s,{modelValue:l.value.email,"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.email=o)},null,8,["modelValue"])]),_:1}),e(n,null,{default:a(()=>[F((d(),i(k,{type:"primary",onClick:b},{default:a(()=>t[3]||(t[3]=[z("提交修改")])),_:1})),[[y,r.value]])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}};export{O as default};
